homeassistant:
  customize: !include customize.yaml
  packages: !include_dir_named packages
  whitelist_external_dirs:
    - !secret whitelist_dir_config
    - !secret whitelist_dir_ssl
  auth_providers:
    - type: homeassistant
    - type: trusted_networks
      trusted_networks:
        - 127.0.0.1
        - ::1
        - 192.168.1.0/24
        - fd00::/8

##############################
## Includes for UI integration
##############################

automation: !include automations.yaml
scene: !include scenes.yaml
group: !include groups.yaml

##############################
## Other includes
##############################

binary_sensor: !include_dir_merge_list include/binary_sensor/
sensor: !include_dir_merge_list include/sensor/

frontend:
  themes: !include_dir_merge_named themes
  

##############################
## Integrations
##############################

asuswrt:
  host: !secret asuswrt_host
  username: !secret asuswrt_username
  ssh_key: !secret asuswrt_ssh_key
  protocol: ssh
  port: 22
  mode: router
  sensors:
    - upload
    - download
    - upload_speed
    - download_speed

config:

device_tracker:
  # This requires the asuswrt integration in configuration.yaml
  - platform: asuswrt
    consider_home: 180
    interval_seconds: 60
    new_device_defaults:
      track_new_devices: false

discovery:

hassio:

http:
  ip_ban_enabled: yes
  login_attempts_threshold: 10
  use_x_forwarded_for: true
  trusted_proxies:
    - 172.30.33.0/24
    - 127.0.0.1
    - ::1

ios:

light:
  - platform: group
    name: Living
    entities:
      ## clockwise from the door
      - light.hoge_kast
      - light.signaallamp
      - light.magnarp_1
      - light.magnarp_2
      - light.magnarp_3
      - light.leeslamp
      - light.turbinelamp
      - light.lichtstraat_1
      - light.lichtstraat_2
      - light.lichtstraat_3
      - light.lichtstraat_4
      - light.bank
      - light.willner
      # - light.bollamp

  - platform: group
    name: Living Dusk
    entities:
      ## clockwise from the door
      - light.hoge_kast
      - light.magnarp
      - light.leeslamp
      - light.turbinelamp
      - light.lichtstraat
      - light.bank
      - light.willner

  - platform: group
    name: Lichtstraat
    entities:
      ## left to right
      - light.lichtstraat_1
      - light.lichtstraat_2
      - light.lichtstraat_3
      - light.lichtstraat_4

  - platform: group
    name: MAGNARP
    entities:
      ## top to bottom
      - light.magnarp_1
      - light.magnarp_2
      - light.magnarp_3

lovelace:
  mode: storage

map:

mobile_app:

notify:
  - name: admin
    platform: pushover
    api_key: !secret pushover_api_key
    user_key: !secret pushover_user_key

  - name: all
    platform: group
    services:
      # - service: admin
      - service: ios_pontius
      - service: ios_patti
      - service: living_tv

person:

spotify:
  ## https://www.home-assistant.io/integrations/spotify/
  client_id: !secret spotify_client_id
  client_secret: !secret spotify_client_secret

sun:

system_health:

wake_on_lan:

webostv:
  ## https://www.home-assistant.io/integrations/webostv/
  host: !secret living_tv_host
  name: Living TV
  turn_on_action:
    service: wake_on_lan.send_magic_packet
    data:
      mac: !secret living_tv_mac
