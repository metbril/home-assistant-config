homeassistant:
  packages: !include_dir_named packages
  whitelist_external_dirs:
    - !secret whitelist_dir_config
    - !secret whitelist_dir_ssl
    # - /backup # for folder watcher (not working yet)
  auth_providers:
    - type: homeassistant
    - type: trusted_networks
      trusted_networks:
        - 127.0.0.1
        - ::1
        - 192.168.1.0/24
        - fd00::/8
  customize: !include customize.yaml

##############################
## Integrations
##############################

asuswrt:
  host: !secret asuswrt_host
  username: !secret asuswrt_username
  ssh_key: !secret asuswrt_ssh_key
  protocol: ssh
  port: 22
  mode: router
  sensors:
    - upload
    - download
    - upload_speed
    - download_speed

############################################################################
## Device Tracker
############################################################################
device_tracker:
  # This requires the asuswrt integration in configuration.yaml
  - platform: asuswrt
    consider_home: 180
    interval_seconds: 60
    new_device_defaults:
      track_new_devices: false
      # hide_if_away: false             # deprecated since 0.104/105

############################################################################
## Person
############################################################################
person:

################################################
## Notify
################################################
notify:
  - name: admin
    platform: pushover
    api_key: !secret pushover_api_key
    user_key: !secret pushover_user_key

  - name: all
    platform: group
    services:
      # - service: admin
      - service: ios_pontius
      - service: ios_patti
      - service: living_tv

  ## https://www.home-assistant.io/integrations/webostv/
  # - platform: webostv
  #   host: !secret living_tv_host
  #   name: Living TV

################################################
## Spotify
################################################
## https://www.home-assistant.io/integrations/spotify/
spotify:
  client_id: !secret spotify_client_id
  client_secret: !secret spotify_client_secret

################################################
## WebOS TV
################################################
## https://www.home-assistant.io/integrations/webostv/
webostv:
  host: !secret living_tv_host
  name: Living TV
  turn_on_action:
    service: wake_on_lan.send_magic_packet
    data:
      mac: !secret living_tv_mac

config:
discovery:

frontend:
  themes: !include_dir_merge_named themes
  
hassio:
http:
  ip_ban_enabled: yes
  login_attempts_threshold: 10
  use_x_forwarded_for: true
  trusted_proxies:
    - 172.30.33.0/24
    - 127.0.0.1
    - ::1

ios:
mobile_app:

############################################################
## Light
############################################################

light:
  - platform: group
    name: Living
    entities:
      ## clockwise from the door
      - light.hoge_kast
      - light.bank
      - light.signaallamp
      - light.leeslamp
      - light.turbinelamp
      - light.willner
      - light.bollamp

  - platform: group
    name: Living Dusk
    entities:
      ## clockwise from the door
      - light.hoge_kast
      # - light.signaallamp
      - light.bank
      - light.leeslamp
      - light.turbinelamp
      - light.willner
      - light.bollamp

lovelace:
  mode: storage

map:

################################################
## Sun
################################################
sun:

system_health:

# enable sending wake on lan packets from HA
wake_on_lan:

# UI configurations
automation: !include automations.yaml
scene: !include scenes.yaml
group: !include groups.yaml
sensor: !include_dir_merge_list include/sensor/
binary_sensor: !include_dir_merge_list include/binary_sensor/
