- alias: Frontdoor Bell Pressed
  initial_state: on
  trigger:
    - platform: event
      event_type: button_pressed
      event_data:
        entity_id: switch.frontdoor_bell
  action:
    - service: switch.turn_off
      entity_id: switch.frontdoor_bell
    - service: notify.all
      data_template:
        title: 'Bel voordeur'
        message: 'Er is aangebeld {{ as_timestamp(now()) | timestamp_custom("op %d-%m om %H:%M", True) }}'
- alias: Mess Call Pressed
  initial_state: off
  trigger:
    - platform: event
      event_type: button_pressed
      event_data:
        entity_id: switch.mess_call
  action:
    - service: switch.turn_off
      entity_id: switch.mess_call
    - service: notify.all
      data:
        title: 'Etenstijd'
        message: 'Etenstijd!'

# schakel de spanning van de garagedeur uit tussen 23:00 en 06:00
- alias: Power off garage door after 23:00
  trigger:
    - platform: time
      at: '23:00:00'
  action:
    - service: switch.turn_off
      entity_id: switch.garage_door_plug_switch
    - service: logbook.log
      data:
        name: Schakelaar garagedeur
        message: is uitgeschakeld

- alias: Power on garage door after 6:00
  trigger:
    - platform: time
      at: '06:00:00'
  condition:
    - condition: template
      value_template: "{{ states.sensor.occupancy.state != 'vacation' }}"
  action:
    - service: switch.turn_on
      entity_id: switch.garage_door_plug_switch
    - service: logbook.log
      data:
        name: Schakelaar garagedeur
        message: is ingeschakeld

- alias: Turn On Dusk Living Lights
  trigger:
    - platform: sun
      event: sunset
      offset: "-00:30:00"
  action:
    - service: light.turn_on
      entity_id: group.dusk_living_lights
    - service: logbook.log
      data:
        name: Schemerverlichting woonkamer
        message: is ingeschakeld
