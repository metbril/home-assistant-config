---
# Package: Eco mode
# This package adds an eco mode to home assistant. The main switch enables
# or disables it. The switch can be used to set the behaviour of automations

input_boolean:
  eco_mode:
    name: Eco Mode
    icon: mdi:sprout

automation:

  - id: f19127bd-aa93-44fe-aac9-0b2c4a626dca
    alias: "Enable eco mode by default"
    initial_state: true
    mode: single

    trigger:
      - platform: homeassistant
        event: start

      - platform: time
        at: "03:00:00"

    condition:
      - condition: state
        entity_id: input_boolean.eco_mode
        state: "off"

    action:
      - service: input_boolean.turn_on
        target:
          entity_id: input_boolean.eco_mode

      - service: persistent_notification.create
        data:
          message: "Eco mode automatically by default enabled."
          title: "Eco Mode"
          notification_id: eco_mode
