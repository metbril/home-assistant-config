############################################################################
## Packages / Environment / Climate
############################################################################

homeassistant:
  customize:
    ########################################################################
    ## Node Anchors
    ########################################################################

    package.node_anchors:
      customize: &customize
        package: 'climate'

############################################################################
## Input Boolean
############################################################################

input_boolean:
  master_bedroom_fan:
    name: Master Bedroom Fan
    initial: off

############################################################################
## Climate
############################################################################

climate:

  ## https://www.home-assistant.io/components/generic_thermostat/
  - platform: generic_thermostat
    name: Master Bedroom
    heater: input_boolean.master_bedroom_fan
    target_sensor: sensor.living_multi_sensor_temperature
    ac_mode: true
    target_temp: 18
    keep_alive:
      minutes: 3
    initial_hvac_mode: "off"
    away_temp: 30

############################################################################
## Fan
############################################################################

fan:
  - platform: template
    fans:
      master_bedroom:
        friendly_name: "Master Bedroom"
        value_template: "{{ states('input_boolean.master_bedroom_fan') }}"
        turn_on:
          service: script.fan_on
        turn_off:
          service: script.fan_off
