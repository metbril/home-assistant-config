################################################
## Packages / Workday
################################################

homeassistant:
  customize:

    ################################################
    ## Node Anchors
    ################################################

    package.node_anchors:
      customize: &customize
        package: 'workday'

      expose: &expose
        <<: *customize
        haaska_hidden: false
        homebridge_hidden: false

    ################################################
    ## Sensor
    ################################################

    ################################################
    ## Group
    ################################################

    group.commute:
      <<: *customize
      friendly_name: Woon-Werk

################################################
## Group
################################################

group:
  commute:
    name: Commute
    entities:
      - binary_sensor.workday
      - sensor.dark_sky_wind_direction
      - sensor.dark_sky_wind_speed
      - sensor.buienradar_precipitation_forecast_average

################################################
## Automation
################################################

automation:
  - alias: 'Toggle Commute Information Visibility'
    trigger:
      - platform: state
        entity_id: binary_sensor.workday
    action:
      - service: group.set_visibility
        entity_id: group.commute
        data_template:
          visible: '{{ trigger.to_state.state }}'
