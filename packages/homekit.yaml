################################################
## Packages / HomeKit
################################################

homeassistant:
  customize:

    ################################################
    ## Node Anchors
    ################################################

    package.node_anchors:
      customize: &customize
        package: 'homekit'

################################################
## HomeKit
################################################

homekit:
  auto_start: false # needed for hue and zwave to come up
  filter:
    include_entities:
    
      - alarm_control_panel.home

      - binary_sensor.master_bedroom_outside_door_sensor

      - light.bank
      - light.bollamp
      - light.hoge_kast
      - light.standing_ikea_vaster
      - light.tv_meubel

      # - switch.mess_call
      # - switch.power_garage_door

      # - sensor.benext_molite_8_temperature
      # - sensor.dark_sky_apparent_temperature
      # - sensor.dark_sky_humidity
      # - sensor.pws_th_humidity
      # - sensor.pws_th_temperature

  entity_config:
    alarm_control_panel.home:
      code: !secret alarm_home_code

################################################
## Automation
################################################

automation:
  - alias: 'Start HomeKit'
    hide_entity: true # default = false
    initial_state: on
    trigger:
      - platform: homeassistant
        event: start
    action:
      # wait 1 minute for zwave and hue
      - delay: 00:01
      - service: homekit.start
