# A nice wrapper around the RESTful command, to be able to post a reading
# manually through the Services menu in the developer tools.

alias: "Post meter reading to mindergas.nl"
mode: single
fields:
  date:
    name: Reading date
    description: The date to post the last reading of.
    required: true
    selector:
      date:
  reading:
    name: Meter reading
    description: The last meter reading at the end of the day of the specified date.
    required: true
    default: 0.0
    example: "1234.567"
    selector:
      number:
        min: 0
        max: 999999.999
        step: 0.001  # 3 decimals allowed
        unit_of_measurement: m3
        mode: box

sequence:
  - service: rest_command.mindergas
    data:
      date: "{{ date }}"
      reading: "{{ reading }}"
